<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Mean Cumulative Function (MCF) — mcf • reda</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">reda</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/reda-intro.html">Introduction to reda through Examples</a>
    </li>
    <li>
      <a href="../articles/reda-simulate.html">Simulate Survival and Recurrent Event Data with reda</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/wenjie2wang/reda">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Mean Cumulative Function (MCF)</h1>
    </div>

    
    <p>An S4 class generic function that returns the mean cumulative function (MCF)
estimates from a fitted model or returns the nonparametric MCF estimates
(also called the Nelson-Aalen estimator) from the sample data.</p>
    

    <pre class="usage"><span class='fu'>mcf</span>(<span class='no'>object</span>, <span class='no'>...</span>)

<span class='co'># S4 method for formula</span>
<span class='fu'>mcf</span>(<span class='no'>object</span>, <span class='no'>data</span>, <span class='no'>subset</span>, <span class='no'>na.action</span>,
    <span class='kw'>variance</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"LawlessNadeau"</span>, <span class='st'>"Poisson"</span>, <span class='st'>"bootstrap"</span>), <span class='kw'>logConfInt</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
    <span class='kw'>level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>, <span class='kw'>control</span> <span class='kw'>=</span> <span class='fu'>list</span>(), <span class='no'>...</span>)

<span class='co'># S4 method for rateReg</span>
<span class='fu'>mcf</span>(<span class='no'>object</span>, <span class='no'>newdata</span>, <span class='no'>groupName</span>, <span class='no'>groupLevels</span>, <span class='kw'>level</span> <span class='kw'>=</span> <span class='fl'>0.95</span>,
    <span class='no'>na.action</span>, <span class='kw'>control</span> <span class='kw'>=</span> <span class='fu'>list</span>(), <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>An object used to dispatch a method.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Other arguments for future usage.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>A data frame, list or environment containing the variables in
the model.  If not found in data, the variables are taken from
<code>environment(formula)</code>, usually the environment from which the
function is called.</p></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>An optional vector specifying a subset of observations to be
used in the fitting process.</p></td>
    </tr>
    <tr>
      <th>na.action</th>
      <td><p>A function that indicates what should the procedure do if
the data contains <code>NA</code>s.  The default is set by the na.action
setting of <code><a href='http://www.rdocumentation.org/packages/base/topics/options'>options</a></code>.  The "factory-fresh" default is
<code><a href='http://www.rdocumentation.org/packages/stats/topics/na.fail'>na.omit</a></code>.  Other possible values inlcude
<code><a href='http://www.rdocumentation.org/packages/stats/topics/na.fail'>na.fail</a></code>, <code><a href='http://www.rdocumentation.org/packages/stats/topics/na.fail'>na.exclude</a></code>, and
<code><a href='http://www.rdocumentation.org/packages/stats/topics/na.fail'>na.pass</a></code>.  <code>help(na.fail)</code> for details.</p></td>
    </tr>
    <tr>
      <th>variance</th>
      <td><p>A character specifying the method for variance estimates.
The available options are <code>"LawlessNadeau"</code> (the default) for
Lawless and Nadeau (1995) method, <code>"Poisson"</code> for Poisson process
method, and <code>"bootstrap"</code> for bootstrap method.  Partial matching
on the names is allowed.</p></td>
    </tr>
    <tr>
      <th>logConfInt</th>
      <td><p>A logical value. If <code>FALSE</code> (the default), the
confidence interval are constructed based on the normality of the MCF
estimates. Otherwise, the confidence intervals of given level are
constucted based on the normality of logarithm of the MCF estimates.</p></td>
    </tr>
    <tr>
      <th>level</th>
      <td><p>An optional numeric value indicating the confidence level
required. The default value is 0.95.</p></td>
    </tr>
    <tr>
      <th>control</th>
      <td><p>An optional named list specifying other options.  For
    <code>rateReg</code> object, it can be used to specify the time grid where the
    MCF is estimated. The available named elements are given as follows:</p><ul>
<li><p><code>grid</code>: The time grid where MCF is estimated. A dense
            grid is suggested for further using the plot method.</p></li>
<li><p><code>length.out</code>: The length of grid points. The dafault
            value is 1,000.</p></li>
<li><p><code>from</code>: The starting point of grid. The default value is
            the left boundary knots (for <code>rateReg</code> object).</p></li>
<li><p><code>to</code>: The endpoint of grid. The default value is the
            right boundary knots (for <code>rateReg</code> object).</p></li>
</ul><p>The option <code>length.out</code>, <code>from</code>, <code>to</code> will be ignored if
    <code>grid</code> is specified directly. Otherwise, the grid will be generated
    by function <code><a href='http://www.rdocumentation.org/packages/base/topics/seq'>seq.int</a></code> with specified <code>from</code>,
    <code>to</code> and <code>length.out</code>.</p>
<p>For formula method, the available named elements are given as follows:</p><ul>
<li><p><code>B</code>: The number of bootstrap replicates for using
            bootstrap method for variance estimates of sample MCF estimates.
            The default value is 200.</p></li>
<li><p><code>se.method</code>: The method used for SE estimates for
            bootstrap. The available methods include <code>"sample.se"</code>
            (the default) and <code>"normality"</code>. The former takes the
            sample SE of point estimates from bootstrap samples; The latter
            estimates SE based on interquantile and normality assumption.</p></li>
<li><p><code>ci.method</code>: The method used for confidence interval (CI)
            for bootstrap. The available options include <code>"normality"</code>
            (the default) and <code>"percentile"</code>. The former estimates the
            CI based on SE estimates and normality assumption; The latter
            takes percentiles of the bootstrap estimates.</p></li>
<li><p><code>keep.data</code>: A logical value specifying whether to keep the
            processed data in the output object. If <code>TRUE</code>
            (the default), the processed data will be kept in the output and
            available for later usage. Otherwise, an empty data
            frame object will be returned in the <code>data</code> slot.
            <code>FALSE</code> may be set when the memory consumption is
            of concern and we only need MCF estimates. For example, the
            function <code>mcfDiff</code> and <code>mcfDiff.test</code> will not be
            applicable for the <code>mcf.formula</code> object with an empty
            <code>data</code> slot.</p></li>
<li><p><code>verbose</code>: A logical value. The default value is
            <code>TRUE</code>. If <code>FALSE</code>, possible data checking messages
             (not including warnings or errors) will be suppressed.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>newdata</th>
      <td><p>An optional data frame. If specified, the data frame should
have the same column names as the covariate names appearing in the
formula of original fitting.</p></td>
    </tr>
    <tr>
      <th>groupName</th>
      <td><p>An optional length-one charactor vector to specify the name
for grouping each unique row in <code>newdata</code>, such as "gender" for
"male" and "female". The default value is "Group".</p></td>
    </tr>
    <tr>
      <th>groupLevels</th>
      <td><p>An optional charactor vector to specify the levels for
each unique row in <code>newdata</code>, such as "treatment" and "control".
The default values are <code>"Level"</code> followed by a numeric sequence
with length of number of levels.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>mcf.formula</code> or <code>mcf.rateReg</code> object.</p>
<p>A brief description of the slots of a <code>mcf.formula</code> object is given as
follows:</p><ul>
<li><p><code>formula</code>: Model Formula.</p></li>
<li><p><code>data</code>: Processed data based on the model formula or an
        empty data frame if <code>keep.data</code> is set to be <code>FALSE</code>.</p></li>
<li><p><code>MCF</code>: A data frame containing estimates for sample MCF.</p></li>
<li><p><code>origin</code>: Time origins.</p></li>
<li><p><code>multiGroup</code>: A logical value indicating whether MCF
        is estimated for different groups respectively.</p></li>
<li><p><code>logConfInt</code>: A logical value indicating whether the
        variance estimates are based on the normality of logarithm of
        the MCF estimates.</p></li>
<li><p><code>level</code>: Confidence level specified.</p></li>
</ul>

<p>Most slots of a <code>mcf.rateReg</code> object are inherited from the input
<code>rateReg</code> object. A brief description of other slots is given as
follows:</p><ul>
<li><p><code>newdata</code>: Given dataset used to estimate MCF.</p></li>
<li><p><code>MCF</code>: A data frame containing MCF estimates.</p></li>
<li><p><code>level</code>: Confidence level specified.</p></li>
<li><p><code>na.action</code>: The way handling missing values.</p></li>
<li><p><code>control</code>: The control list.</p></li>
<li><p><code>multiGroup</code>: A logical value indicating whether MCF
        is estimated for different groups respectively.</p></li>
</ul>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For <code>formula</code> object with <code><a href='Survr.html'>Survr</a></code> object as response, the
covariate specified at the right hand side of the formula should be either
<code>1</code> or any "linear" conbination of categorical variable in the data.
The former computes the overall sample MCF.  The latter computes the sample
MCF for each level of the combination of the categorical variable(s)
specified, respectively.  The sample MCF is also called Nelson-Aalen
nonparametric estimator (Nelson 2003) and computed on each time point from
sample data.  The point estimate of sample MCF at each time point does not
assume any particular underlying model. The variance estimates at each time
point is computed following the Lawless and Nadeau method (LawLess and
Nadeau 1995), the Poisson process method, or the bootstrap methods.  The
approximate confidence intervals are provided as well, which are constructed
based on the asymptotic normality of the MCF itself (by default) or the
logarithm of MCF.</p>
<p>For <code>rateReg</code> object, <code>mcf</code> estimates the baseline
MCF and its confidence interval at each time grid if argument <code>newdata</code>
is not specified.  Otherwise, <code>mcf</code> estimates MCF and its confidence
interval for the given newdata based on Delta-method.</p>
    
    <h2 class="hasAnchor" id="methods-by-class-"><a class="anchor" href="#methods-by-class-"></a>Methods (by class)</h2>

    <ul>
<li><p><code>formula</code>: Sample MCF from data.</p></li>
<li><p><code>rateReg</code>: Estimated MCF from a fitted model.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Lawless, J. F. and Nadeau, C. (1995). Some Simple Robust Methods for the
Analysis of Recurrent Events. <em>Technometrics</em>, 37, 158--168.</p>
<p>Nelson, W. B. (2003). <em>Recurrent Events Data Analysis for Product
Repairs, Disease Recurrences, and Other Applications</em> (Vol. 10). SIAM.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='rateReg.html'>rateReg</a></code> for model fitting;
<code><a href='mcfDiff.html'>mcfDiff</a></code> for comparing two-sample MCFs.
<code><a href='plot-method.html'>plot-method</a></code> for plotting MCF.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>library</span>(<span class='no'>reda</span>)

<span class='co'>### sample MCF</span>
<span class='co'>## Example 1. valve-seat data</span>
<span class='co'>## the default variance estimates by Lawless and Nadeau (1995) method</span>
<span class='no'>valveMcf0</span> <span class='kw'>&lt;-</span> <span class='fu'>mcf</span>(<span class='fu'><a href='Survr.html'>Survr</a></span>(<span class='no'>ID</span>, <span class='no'>Days</span>, <span class='no'>No.</span>) ~ <span class='fl'>1</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>valveSeats</span>)
<span class='fu'>plot</span>(<span class='no'>valveMcf0</span>, <span class='kw'>conf.int</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>mark.time</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>addOrigin</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>) +
    <span class='kw pkg'>ggplot2</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/labs'>xlab</a></span>(<span class='st'>"Days"</span>) + <span class='kw pkg'>ggplot2</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/ggtheme'>theme_bw</a></span>()</div><div class='img'><img src='mcf-1.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>
<span class='co'>## variance estimates following Poisson process model</span>
<span class='no'>valveMcf1</span> <span class='kw'>&lt;-</span> <span class='fu'>mcf</span>(<span class='fu'><a href='Survr.html'>Survr</a></span>(<span class='no'>ID</span>, <span class='no'>Days</span>, <span class='no'>No.</span>) ~ <span class='fl'>1</span>,
                 <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>valveSeats</span>, <span class='kw'>variance</span> <span class='kw'>=</span> <span class='st'>"Poisson"</span>)
<span class='co'>## variance estimates by bootstrap method (with 1,000 bootstrap samples)</span>
<span class='no'>valveMcf2</span> <span class='kw'>&lt;-</span> <span class='fu'>mcf</span>(<span class='fu'><a href='Survr.html'>Survr</a></span>(<span class='no'>ID</span>, <span class='no'>Days</span>, <span class='no'>No.</span>) ~ <span class='fl'>1</span>,
                 <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>valveSeats</span>, <span class='kw'>variance</span> <span class='kw'>=</span> <span class='st'>"bootstrap"</span>,
                 <span class='kw'>control</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>B</span> <span class='kw'>=</span> <span class='fl'>2e2</span>))

<span class='co'>## comparing the variance estimates from different methods</span>
<span class='fu'>library</span>(<span class='no'>ggplot2</span>)
<span class='no'>ciDat</span> <span class='kw'>&lt;-</span> <span class='fu'>rbind</span>(<span class='fu'>cbind</span>(<span class='no'>valveMcf0</span>@<span class='kw'>MCF</span>, <span class='kw'>Method</span> <span class='kw'>=</span> <span class='st'>"Lawless &amp; Nadeau"</span>),
               <span class='fu'>cbind</span>(<span class='no'>valveMcf1</span>@<span class='kw'>MCF</span>, <span class='kw'>Method</span> <span class='kw'>=</span> <span class='st'>"Poisson"</span>),
               <span class='fu'>cbind</span>(<span class='no'>valveMcf2</span>@<span class='kw'>MCF</span>, <span class='kw'>Method</span> <span class='kw'>=</span> <span class='st'>"Bootstrap"</span>))
<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/ggplot'>ggplot</a></span>(<span class='no'>ciDat</span>, <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/aes'>aes</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>time</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>se</span>)) +
    <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/geom_path'>geom_step</a></span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/aes'>aes</a></span>(<span class='kw'>color</span> <span class='kw'>=</span> <span class='no'>Method</span>, <span class='kw'>linetype</span> <span class='kw'>=</span> <span class='no'>Method</span>)) +
    <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/labs'>xlab</a></span>(<span class='st'>"Days"</span>) + <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/labs'>ylab</a></span>(<span class='st'>"SE estimates"</span>) + <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/ggtheme'>theme_bw</a></span>()</div><div class='img'><img src='mcf-2.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>
<span class='co'>## comparing the confidence interval estimates from different methods</span>
<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/ggplot'>ggplot</a></span>(<span class='no'>ciDat</span>, <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/aes'>aes</a></span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>time</span>)) +
    <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/geom_path'>geom_step</a></span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/aes'>aes</a></span>(<span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>MCF</span>)) +
    <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/geom_path'>geom_step</a></span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/aes'>aes</a></span>(<span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>lower</span>, <span class='kw'>color</span> <span class='kw'>=</span> <span class='no'>Method</span>, <span class='kw'>linetype</span> <span class='kw'>=</span> <span class='no'>Method</span>)) +
    <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/geom_path'>geom_step</a></span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/aes'>aes</a></span>(<span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>upper</span>, <span class='kw'>color</span> <span class='kw'>=</span> <span class='no'>Method</span>, <span class='kw'>linetype</span> <span class='kw'>=</span> <span class='no'>Method</span>)) +
    <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/labs'>xlab</a></span>(<span class='st'>"Days"</span>) + <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/labs'>ylab</a></span>(<span class='st'>"Confidence intervals"</span>) + <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/ggtheme'>theme_bw</a></span>()</div><div class='img'><img src='mcf-3.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>

<span class='co'>## Example 2. the simulated data</span>
<span class='no'>simuMcf</span> <span class='kw'>&lt;-</span> <span class='fu'>mcf</span>(<span class='fu'><a href='Survr.html'>Survr</a></span>(<span class='no'>ID</span>, <span class='no'>time</span>, <span class='no'>event</span>) ~ <span class='no'>group</span> + <span class='no'>gender</span>,
               <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>simuDat</span>, <span class='no'>ID</span> <span class='kw'>%in%</span> <span class='fl'>1</span> : <span class='fl'>50</span>)
<span class='fu'>plot</span>(<span class='no'>simuMcf</span>, <span class='kw'>conf.int</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fl'>1</span> : <span class='fl'>4</span>,
     <span class='kw'>legendName</span> <span class='kw'>=</span> <span class='st'>"Treatment &amp; Gender"</span>)</div><div class='img'><img src='mcf-4.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>
<span class='co'>### estimate MCF difference between two groups</span>
<span class='co'>## one sample MCF object of two groups</span>
<span class='no'>mcf0</span> <span class='kw'>&lt;-</span> <span class='fu'>mcf</span>(<span class='fu'><a href='Survr.html'>Survr</a></span>(<span class='no'>ID</span>, <span class='no'>time</span>, <span class='no'>event</span>) ~ <span class='no'>group</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>simuDat</span>)
<span class='co'>## two-sample pseudo-score tests</span>
<span class='fu'><a href='mcfDiff.html'>mcfDiff.test</a></span>(<span class='no'>mcf0</span>)</div><div class='output co'>#&gt; Two-Sample Pseudo-Score Tests:
#&gt;                 Statistic Variance    Chisq DF Pr(&gt;Chisq)   
#&gt; Constant Weight   52.5855 670.1014   4.1266  1   0.042214 * 
#&gt; Linear Weight     35.7687 158.9869   8.0472  1   0.004557 **
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; 
#&gt; Variance Estimator: robust </div><div class='input'><span class='co'>## difference estimates over time</span>
<span class='no'>mcf0_diff</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mcfDiff.html'>mcfDiff</a></span>(<span class='no'>mcf0</span>, <span class='kw'>testVariance</span> <span class='kw'>=</span> <span class='st'>"none"</span>)
<span class='fu'>plot</span>(<span class='no'>mcf0_diff</span>)</div><div class='img'><img src='mcf-5.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>
<span class='co'>## or explicitly ask for the difference of two sample MCF</span>
<span class='no'>mcf1</span> <span class='kw'>&lt;-</span> <span class='fu'>mcf</span>(<span class='fu'><a href='Survr.html'>Survr</a></span>(<span class='no'>ID</span>, <span class='no'>time</span>, <span class='no'>event</span>) ~ <span class='fl'>1</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>simuDat</span>,
            <span class='kw'>subset</span> <span class='kw'>=</span> <span class='no'>group</span> <span class='kw'>%in%</span> <span class='st'>"Contr"</span>)
<span class='no'>mcf2</span> <span class='kw'>&lt;-</span> <span class='fu'>mcf</span>(<span class='fu'><a href='Survr.html'>Survr</a></span>(<span class='no'>ID</span>, <span class='no'>time</span>, <span class='no'>event</span>) ~ <span class='fl'>1</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>simuDat</span>,
            <span class='kw'>subset</span> <span class='kw'>=</span> <span class='no'>group</span> <span class='kw'>%in%</span> <span class='st'>"Treat"</span>)
<span class='co'>## perform two-sample tests and estimate difference at the same time</span>
<span class='no'>mcf12_diff1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mcfDiff.html'>mcfDiff</a></span>(<span class='no'>mcf1</span>, <span class='no'>mcf2</span>)
<span class='no'>mcf12_diff2</span> <span class='kw'>&lt;-</span> <span class='no'>mcf1</span> - <span class='no'>mcf2</span>   <span class='co'># or equivalently using the `-` method</span>
<span class='fu'>stopifnot</span>(<span class='fu'>all.equal</span>(<span class='no'>mcf12_diff1</span>, <span class='no'>mcf12_diff2</span>))
<span class='no'>mcf12_diff1</span></div><div class='output co'>#&gt; Call: 
#&gt; mcfDiff(mcf1 = mcf1, mcf2 = mcf2)
#&gt; 
#&gt; Two-Sample Pseudo-Score Tests:
#&gt;                 Statistic Variance    Chisq DF Pr(&gt;Chisq)   
#&gt; Constant Weight   52.5855 670.1014   4.1266  1   0.042214 * 
#&gt; Linear Weight     35.7687 158.9869   8.0472  1   0.004557 **
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; 
#&gt; Variance Estimator: robust </div><div class='input'><span class='fu'>plot</span>(<span class='no'>mcf12_diff1</span>)</div><div class='img'><img src='mcf-6.png' alt='' width='700' height='432.632880098887' /></div><div class='input'>
### For estimated MCF from a fitted model,
### see examples given in function rateReg.
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#methods-by-class-">Methods (by class)</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Wenjie Wang, Haoda Fu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
